{
  "schemaVersion": 1,
  "items": {
    "wi_docs_log": {
      "id": "wi_docs_log",
      "title": "Update AGENT_LOG",
      "description": "Record the consolidation work in AGENT_LOG.md per project instructions.",
      "acceptanceCriteria": [
        "AGENT_LOG.md contains a concise entry about the consolidation"
      ],
      "prompt": "Add a brief entry to AGENT_LOG.md summarizing the shared plan-agent consolidation work.",
      "parentId": null,
      "childIds": [],
      "deps": [
        "wi_wire_cli_tui"
      ],
      "status": "done",
      "createdAt": "2026-02-01T04:22:01.067838Z",
      "updatedAt": "2026-02-01T04:31:34.798109Z"
    },
    "wi_shared_defs": {
      "id": "wi_shared_defs",
      "title": "Create shared plan-agent definitions",
      "description": "Add shared functions/constants for plan agent prompt, JSON schema, question rounds, and revision limits in a common internal package.",
      "acceptanceCriteria": [
        "A shared package exposes the default plan system prompt and default plan JSON schema",
        "Shared constants exist for max agent question rounds and max generate revisions",
        "No behavior change beyond consolidation"
      ],
      "prompt": "Implement a shared Go package (e.g., internal/agent or internal/plan) that owns the default plan system prompt, plan JSON schema string, and related constants for question rounds and revisions.",
      "parentId": null,
      "childIds": [],
      "deps": [],
      "status": "done",
      "createdAt": "2026-02-01T04:22:01.067838Z",
      "updatedAt": "2026-02-01T04:27:10.296869Z"
    },
    "wi_shared_plan_path": {
      "id": "wi_shared_plan_path",
      "title": "Centralize plan file path helper",
      "description": "Provide a single helper for determining the plan file path in the current working directory for both CLI and TUI.",
      "acceptanceCriteria": [
        "One shared helper computes plan path using cwd + plan.DefaultPlanFilename",
        "CLI and TUI use the shared helper"
      ],
      "prompt": "Add a shared helper function (likely in internal/plan) to compute the plan file path in the current working directory.",
      "parentId": null,
      "childIds": [],
      "deps": [],
      "status": "done",
      "createdAt": "2026-02-01T04:22:01.067838Z",
      "updatedAt": "2026-02-01T04:29:30.451306Z"
    },
    "wi_tests": {
      "id": "wi_tests",
      "title": "Update or add tests",
      "description": "Adjust tests to cover the shared helper(s) and ensure existing behavior remains intact.",
      "acceptanceCriteria": [
        "Relevant tests compile and pass",
        "New helpers have unit coverage when appropriate"
      ],
      "prompt": "Add or update tests for the new shared helpers and constants; run existing test suite as appropriate.",
      "parentId": null,
      "childIds": [],
      "deps": [
        "wi_wire_cli_tui"
      ],
      "status": "done",
      "createdAt": "2026-02-01T04:22:01.067838Z",
      "updatedAt": "2026-02-01T04:33:08.348078Z"
    },
    "wi_wire_cli_tui": {
      "id": "wi_wire_cli_tui",
      "title": "Wire CLI and TUI to shared definitions",
      "description": "Replace duplicated prompt/schema/path/constants in CLI and TUI with the shared package usages.",
      "acceptanceCriteria": [
        "CLI uses shared plan system prompt and JSON schema",
        "TUI uses shared plan system prompt and JSON schema",
        "CLI and TUI use shared constants for question rounds and revisions",
        "CLI and TUI use shared plan path helper"
      ],
      "prompt": "Update internal/cli and internal/tui to import and use the shared helper(s) and constants instead of local duplicates.",
      "parentId": null,
      "childIds": [],
      "deps": [
        "wi_shared_defs",
        "wi_shared_plan_path"
      ],
      "status": "done",
      "createdAt": "2026-02-01T04:22:01.067838Z",
      "updatedAt": "2026-02-01T04:31:22.630511Z"
    }
  }
}
